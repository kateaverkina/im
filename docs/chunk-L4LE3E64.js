import{ba as D,ga as T,i as P,j as v,k as B,m as b,ma as j,n as F,o as s,p as x,q as S,u as k,v as y,w as E,y as R,z as w}from "./chunk-2CXGLV4C.js";import{Fb as a,Ma as g,Na as c,Nb as d,_ as f,eb as m,ia as C,ja as _,jb as i,kb as r,lb as p,sb as M,wc as O,yc as I}from "./chunk-XMHKMXVK.js";var L= o=>({"border-color":o}),z=(()=>{class o{constructor(n, e, t, u){this.fb=n,this.authService=e,this._snackBar=t,this.router=u,this.loginForm=this.fb.group({email:["",[s.email,s.required]],password:["",[s.required]],rememberMe:[!1]})}ngOnInit(){}login(){this.loginForm.valid&&this.loginForm.value.email&&this.loginForm.value.password&&this.authService.login(this.loginForm.value.email,this.loginForm.value.password,!!this.loginForm.value.rememberMe).subscribe({next: n=>{let e=null;n.error!==void 0&&(e=n.message);let t=n;if((!t.accessToken||!t.refreshToken||!t.userId)&&(e="\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),e)throw this._snackBar.open(e),new Error(e);this.authService.setTokens(t.accessToken,t.refreshToken),this.authService.userId=t.userId,this._snackBar.open("\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043B\u0438\u0441\u044C"),this.router.navigate(["/"])},error: n=>{n.error&&n.error.message?this._snackBar.open(n.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438")}})}static{this.\u0275fac=function(e){return new(e||o)(c(E),c(w),c(D),c(P))}}static{this.\u0275cmp=C({type:o,selectors:[["app-login"]],decls:23,vars:8,consts:[[1,"login",3,"formGroup"],[1,"container"],[1,"auth-form"],[1,"auth-title"],[1,"auth-inputs"],[1,"auth-input"],["type","text","placeholder","\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430","formControlName","email",1,"input",3,"ngStyle"],["type","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","formControlName","password",1,"input",3,"ngStyle"],[1,"auth-checkbox"],["type","checkbox","id","remember","formControlName","rememberMe"],["for","remember"],[1,"auth-button"],[1,"button",3,"click","disabled"],[1,"auth-link"],["routerLink","/signup"],[1,"page-image"],["src","assets/login.png","alt","flower"]],template:function(e, t){if(e&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),a(4,"\u0412\u043E\u0439\u0442\u0438 \u0432 \u043B\u0438\u0447\u043D\u044B\u0439 \u043A\u0430\u0431\u0438\u043D\u0435\u0442"),r(),i(5,"div",4)(6,"div",5),p(7,"input",6),r(),i(8,"div",5),p(9,"input",7),r(),i(10,"div",8),p(11,"input",9),i(12,"label",10),a(13,"\u0417\u0430\u043F\u043E\u043C\u043D\u0438\u0442\u044C \u043C\u0435\u043D\u044F"),r()()(),i(14,"div",11)(15,"button",12),M("click",function(){return t.login()}),a(16,"\u0412\u043E\u0439\u0442\u0438"),r()(),i(17,"div",13),a(18,"\u041D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? "),i(19,"a",14),a(20,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044C"),r()()(),i(21,"div",15),p(22,"img",16),r()()()),e&2){let u,l;m("formGroup",t.loginForm),g(7),m("ngStyle",d(4,L,(u=t.loginForm.get("email"))!=null&&u.invalid&&((u=t.loginForm.get("email"))!=null&&u.dirty||(u=t.loginForm.get("email"))!=null&&u.touched)?"red":"")),g(2),m("ngStyle",d(6,L,(l=t.loginForm.get("password"))!=null&&l.invalid&&((l=t.loginForm.get("password"))!=null&&l.dirty||(l=t.loginForm.get("password"))!=null&&l.touched)?"red":"")),g(6),m("disabled",t.loginForm.invalid)}},dependencies:[O,F,b,x,S,k,y,v],styles:[".auth-form[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:110px}.auth-form[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{font-family:Lora,sans-serif;font-size:36px;color:#202b21;margin-bottom:35px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]{margin-bottom:30px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]{margin-bottom:8px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]{max-width:422px;display:flex;align-items:baseline}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;line-height:130%;margin-left:10px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#519057;text-decoration:none}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{margin-top:30px}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{margin-top:8px;color:#2c2c2c;font-size:16px}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;margin-left:5px;color:#519057}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]{margin-left:49px}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:bottom}"]})}}return o})();var N= o=>({"border-color":o}),G=(()=>{class o{constructor(n, e, t, u){this.fb=n,this.authService=e,this._snackBar=t,this.router=u,this.signupForm=this.fb.group({email:["",[s.email,s.required]],password:["",[s.required,s.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]],passwordRepeat:["",[s.required,s.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]],agree:[!1,[s.requiredTrue]]})}ngOnInit(){}signup(){this.signupForm.valid&&this.signupForm.value.email&&this.signupForm.value.password&&this.signupForm.value.passwordRepeat&&this.signupForm.value.agree&&this.authService.signup(this.signupForm.value.email,this.signupForm.value.password,this.signupForm.value.passwordRepeat).subscribe({next: n=>{let e=null;n.error!==void 0&&(e=n.message);let t=n;if((!t.accessToken||!t.refreshToken||!t.userId)&&(e="\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),e)throw this._snackBar.open(e),new Error(e);this.authService.setTokens(t.accessToken,t.refreshToken),this.authService.userId=t.userId,this._snackBar.open("\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043B\u0438\u0441\u044C"),this.router.navigate(["/"])},error: n=>{n.error&&n.error.message?this._snackBar.open(n.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")}})}static{this.\u0275fac=function(e){return new(e||o)(c(E),c(w),c(D),c(P))}}static{this.\u0275cmp=C({type:o,selectors:[["app-signup"]],decls:29,vars:11,consts:[["passwordRepeat","",1,"signup",3,"formGroup"],[1,"container"],[1,"auth-form"],[1,"auth-title"],[1,"auth-inputs"],[1,"auth-input"],["type","text","placeholder","\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430","formControlName","email",1,"input",3,"ngStyle"],["type","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","formControlName","password",1,"input",3,"ngStyle"],["type","password","placeholder","\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C","formControlName","passwordRepeat",1,"input",3,"ngStyle"],[1,"auth-checkbox"],["type","checkbox","id","agree","formControlName","agree"],["for","agree"],["href","#"],[1,"auth-button"],[1,"button",3,"click","disabled"],[1,"auth-link"],["routerLink","/login"],[1,"page-image"],["src","assets/signup.png","alt","flower"]],template:function(e, t){if(e&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),a(4,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u043D\u0430 \u0441\u0430\u0439\u0442\u0435"),r(),i(5,"div",4)(6,"div",5),p(7,"input",6),r(),i(8,"div",5),p(9,"input",7),r(),i(10,"div",5),p(11,"input",8),r(),i(12,"div",9),p(13,"input",10),i(14,"label",11)(15,"a",12),a(16,"\u042F \u043F\u0440\u0438\u043D\u0438\u043C\u0430\u044E \u0443\u0441\u043B\u043E\u0432\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u043E\u0433\u043E \u0441\u043E\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u044F"),r(),a(17," \u0438 \u0434\u0430\u044E "),i(18,"a",12),a(19,"\u0441\u043E\u0433\u043B\u0430\u0441\u0438\u0435 \u043D\u0430 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0443 \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445."),r()()()(),i(20,"div",13)(21,"button",14),M("click",function(){return t.signup()}),a(22,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),r()(),i(23,"div",15),a(24,"\u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442? "),i(25,"a",16),a(26,"\u0412\u043E\u0439\u0434\u0438\u0442\u0435"),r()()(),i(27,"div",17),p(28,"img",18),r()()()),e&2){let u,l,h;m("formGroup",t.signupForm),g(7),m("ngStyle",d(5,N,(u=t.signupForm.get("email"))!=null&&u.invalid&&((u=t.signupForm.get("email"))!=null&&u.dirty||(u=t.signupForm.get("email"))!=null&&u.touched)?"red":"")),g(2),m("ngStyle",d(7,N,(l=t.signupForm.get("password"))!=null&&l.invalid&&((l=t.signupForm.get("password"))!=null&&l.dirty||(l=t.signupForm.get("password"))!=null&&l.touched)?"red":"")),g(2),m("ngStyle",d(9,N,(h=t.signupForm.get("passwordRepeat"))!=null&&h.invalid&&((h=t.signupForm.get("passwordRepeat"))!=null&&h.dirty||(h=t.signupForm.get("passwordRepeat"))!=null&&h.touched)?"red":"")),g(10),m("disabled",t.signupForm.invalid)}},dependencies:[O,F,b,x,S,k,y,T,v],styles:[".auth-form[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:110px}.auth-form[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{font-family:Lora,sans-serif;font-size:36px;color:#202b21;margin-bottom:35px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]{margin-bottom:30px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]{margin-bottom:8px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]{max-width:422px;display:flex;align-items:baseline}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;line-height:130%;margin-left:10px}.auth-form[_ngcontent-%COMP%]   .auth-inputs[_ngcontent-%COMP%]   .auth-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#519057;text-decoration:none}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{margin-top:30px}.auth-form[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{margin-top:8px;color:#2c2c2c;font-size:16px}.auth-form[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;margin-left:5px;color:#519057}.signup[_ngcontent-%COMP%]{margin-top:10px}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]{margin-left:222px}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:bottom}"]})}}return o})();var J=[{path:"login",component:z},{path:"signup",component:G}],q=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=_({type:o})}static{this.\u0275inj=f({imports:[B.forChild(J),B]})}}return o})();var ct=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=_({type:o})}static{this.\u0275inj=f({imports:[I,R,j,q]})}}return o})();export{ct as UserModule};
